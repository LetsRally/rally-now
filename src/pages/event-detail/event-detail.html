<rally-name-header name="Event Detail"></rally-name-header>
<ion-content no-padding>


    <ion-card class="events-card Card">
        <ion-item>
            <ion-fab>
                <button ion-fab color="light"
                        (click)="eventEllipsisController(orgName, organization_id, followers, notify)">
                    <ion-icon name="ios-more"></ion-icon>
                </button>
            </ion-fab>
            <ion-avatar item-start (click)="goToOrganizationProfile(orgId)">
                <img [src]="orgPhoto ? orgPhoto : testPhoto">
            </ion-avatar>
            <div class="item-heading" (click)="goToOrganizationProfile(orgId)">
                <h2 text-wrap style="text-align:left;">
                    <small>via</small>
                    {{orgName}}
                </h2>
            </div>
            <p>
                <small>Event Location: {{locations}} {{state ? state : 'Unlisted'}}</small>
            </p>
        </ion-item>
        <div class="events-bg">
            <ion-img src="{{image_url}}"></ion-img>
            <div class="events-filter"></div>
            <div class="events-railled" *ngIf="attending > 0">
                <p class="white"><strong>{{attending}}</strong><br> Attending</p>

            </div>
            <div class="date-events-spans" *ngIf="start_date != null">
                <span class="day">{{getDay(start_date)}}</span>
                <span class="month">{{getShortDate(start_date)}}</span>
            </div>
        </div>
        <ion-card-content>
            <ion-card-title>{{title}}</ion-card-title>
            <p class="event-description">
                <ion-icon ios="ios-time-outline" md="md-time"
                          style="color: #868686; font-size: 29px; margin-right: 8px;"></ion-icon>
                {{eventTime}} {{eventEndTime}}
            </p>
            <p class="event-description">
                <ion-icon ios="ios-pin-outline" md="md-pin"
                          style="color: #868686; font-size: 29px; margin-right: 8px;"></ion-icon>
                {{venue}}
            </p>
        </ion-card-content>
        <ion-item class="event-detail-header">
            <p>Event Details</p>
        </ion-item>
        <ion-list>
            <div class="text-wrap" padding [innerHTML]="formattedDescription"></div>
        </ion-list>
        <button (click)="openWebpage()" class="count-me-in" ion-button full icon-left>
            <ion-icon ios="md-thumbs-up" md="md-thumbs-up"></ion-icon>
            RSVP on Facebook
        </button>


    </ion-card>
    <div style="height: 60px;"></div>
</ion-content>

<ion-footer>
    <ion-row>
        <button [disabled]="disable" class="btn-50 right-border" ion-button icon-left clear full
                (click)="getLikeStatus($event, eventID,eventLike)"
                [ngStyle]="{'background-color': buttonColor, 'color': textColor}">
            <ion-icon name="{{icon}}"></ion-icon>
            {{likes}}
        </button>
        <button [disabled]="disable" class="btn-50" ion-button icon-left clear full
                (click)="shareController()">
            <!-- <ion-icon name="ios-share-alt"></ion-icon> -->
            <img src="assets/img/Share-white.svg" style="width: 17px; margin-right:8px;">
            {{shares}}
        </button>

    </ion-row>
</ion-footer>

